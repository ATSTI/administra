CREATE TABLE ESTOQUEMES
(
  CODPRODUTO Integer NOT NULL,
  LOTE Varchar(60) NOT NULL,
  MESANO Date NOT NULL,
  QTDEENTRADA Double precision,
  QTDECOMPRA Double precision,
  QTDEDEVCOMPRA Double precision,
  QTDESAIDA Double precision,
  QTDEVENDA Double precision,
  QTDEPERDA Double precision,
  PRECOCUSTO Double precision,
  PRECOCOMPRA Double precision,
  PRECOCOMPRAULTIMA Double precision,
  PRECOVENDA Double precision,
  CENTROCUSTO Integer NOT NULL,
  QTDEDEVVENDA Double precision,
  QTDEINVENTARIO Double precision,
  SALDOMESANTERIOR Double precision,
  PRIMARY KEY (CODPRODUTO,LOTE,MESANO,CENTROCUSTO)
);

ALTER TABLE ESTOQUEMES ADD SALDOESTOQUE COMPUTED BY (SALDOMESANTERIOR + 

  QTDEINVENTARIO + QTDEENTRADA + QTDECOMPRA + QTDEDEVCOMPRA - QTDEVENDA - QTDESAIDA - QTDEPERDA -  QTDEDEVVENDA);
GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON ESTOQUEMES TO  SYSDBA WITH GRANT OPTION;

