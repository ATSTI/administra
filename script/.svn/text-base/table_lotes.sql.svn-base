SET TERM ^ ;
CREATE TABLE LOTES (
   CODLOTE INTEGER NOT NULL PRIMARY KEY,
   LOTE VARCHAR(200) NOT NULL,
   CODPRODUTO INTEGER NOT NULL,
   DATAFABRICACAO DATE,
   DATAVENCIMENTO DATE,
   ESTOQUE DOUBLE PRECISION)^

CREATE GENERATOR GEN_LOTE^
SET GENERATOR GEN_LOTE TO 0^

CREATE TRIGGER TRG_CODLOTE FOR LOTES 
BEFORE INSERT POSITION 0
AS 
BEGIN
  IF (NEW.CODLOTE IS NULL) THEN  
     NEW.CODLOTE = GEN_ID(GEN_LOTE, 1); 
END^